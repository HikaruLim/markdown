# Linux基本命令

OS： **Deepin 15.5**

Shell： **zsh 5.3.1**

---

## 1.查找文件

`find`：搜索文件

|命令|含义|
|-|-|
|find ./ -name test.txt|查找当前目录下所有名为test.txt的文件|
|find ./ -name '*.sh'|查找当前目录下所有后缀为.sh的文件|
|find /tmp -size 2M|查找/tmp目录下等于2M的文件|
|find /tmp -size +2M|查找/tmp目录下大于2M的文件|
|find /tmp -size -2M|查找/tmp目录下小于2M的文件|
|find /tmp -size +4k -size -5M|查找/tmp目录下大于4K、小于5M的文件|
|find ./ -perm 0777|查找当前目录下权限为777的文件或目录|

```shell
➜  Desktop tree
.
├── a
│   └── a.txt
└── a.txt

1 directory, 2 files
➜  Desktop find ./ -name a.txt
./a/a.txt
./a.txt
➜  Desktop
```

```shell
➜  share pwd
/usr/share
➜  share find ./ -size +50M -size -60M
./tesseract-ocr/tessdata/chi_tra.traineddata
➜  share find ./ -size +50M
./code/code
./tesseract-ocr/tessdata/chi_tra.traineddata
./qt4/doc/qch/qt.qch
➜  share
```

---

## 2.复制

`cp`：将给出的文件或目录复制到另一个文件或目录中。

用法：cp [选项]... [-T] 源文件 目标文件

|选项|含义|
|-|-|
|-a|保留文件属性（递归的复制）|
|-f|目录文件已经存在而不提示|
|-i|交互式复制，在覆盖文件前需要用户确认|
|-r|如果源文件是目录，则递归的复制该目录下的所有子目录和文件|
|-v|显示复制进度|

f用以强制复制，a用以保留诸如链接之类的属性，r用来复制目录。

> `cp a b`:将a文件夹整体复制到b文件夹里；`cp a/* b`：将a文件夹里的内容复制到b文件夹里.

```shell
➜  Desktop ls -l
总用量 0
-rw-r--r-- 2 inkss inkss 0 1月  23 19:20 a_hard.txt
lrwxrwxrwx 1 inkss inkss 5 1月  23 19:43 a_soft.txt -> a.txt
-rw-r--r-- 2 inkss inkss 0 1月  23 19:20 a.txt
➜  Desktop cp a_soft.txt b1.txt
➜  Desktop cp a_soft.txt -a b2.txt
➜  Desktop ls -l
总用量 0
-rw-r--r-- 2 inkss inkss 0 1月  23 19:20 a_hard.txt
lrwxrwxrwx 1 inkss inkss 5 1月  23 19:43 a_soft.txt -> a.txt
-rw-r--r-- 2 inkss inkss 0 1月  23 19:20 a.txt
-rw-r--r-- 1 inkss inkss 0 1月  23 19:45 b1.txt
lrwxrwxrwx 1 inkss inkss 5 1月  23 19:43 b2.txt -> a.txt
➜  Desktop
```

---

## 3.移动（剪切）

`mv`：移动文件或目录，也可给文件或目录重命名。

用法：mv [选项]... [-T] 源文件 目标文件

|选项|含义|
|-|-|
|-f|强制移动，不会用任何提示|
|-i|交互式操作，覆盖前会询问|
|-v|显示移动进度|

```shell
➜  Desktop ls
a.txt
➜  Desktop mv a.txt a.ttt
➜  Desktop ls
a.ttt
➜  Desktop
```

---

## 4.压缩、解压缩

### 4.1 `tar`：打包、解包文件

用法：tar [选项]... [FILE]...

|选项|含义|
|-|-|
|-c|创建档案文件|
|-x|解开档案文件|
|-v|显示归档解档进度|
|-t|列出档案中包含的文件|
|-f|指定档案文件名称（**必须位于选项中最后位置**）|

```shell
➜  Desktop cd ../Pictures
➜  Pictures ls
Wallpapers
➜  Pictures tar -cvf test.tar ./Wallpapers/*
./Wallpapers/06e67b4ec51b99467111f215f1e7c10e.png
./Wallpapers/5043b2fdbc2cf337e789ca7f71e0c088.jpg
./Wallpapers/b32957d19b4b163b82baaf73e1b7a459.jpg
./Wallpapers/d66418b3a4609f230492f9a0f8ba3479.jpg
➜  Pictures ls
test.tar  Wallpapers
➜  Pictures
```

### 4.2 `gzip`：压缩、解压缩

tar仅仅是打包了文件，没有压缩，所用通过gzip生成xxxx.tar.gz的压缩文件.

用法：gzip [选项]... [FILE]...（不跟选项情况下为压缩）

|选项|含义|
|-|-|
|-d|解压|
|-r|压缩|

```shell
➜  Desktop ls -lh
总用量 3.7M
-rw-r--r-- 1 inkss inkss 3.7M 1月  23 21:46 test.tar.gz
➜  Desktop gzip -d test.tar.gz
➜  Desktop ls -lh
总用量 3.8M
-rw-r--r-- 1 inkss inkss 3.8M 1月  23 21:46 test.tar
➜  Desktop
```

截止到目前，是先通过tar打包，再通过gzip压缩；解压则是先通过gzip解压，再通过tar解包。

|||
|-|-|
|tar -cvf xxx.tar * 打包|gzip xxx.tar 压缩|
|gzip -d xxx.tar.gz 解压|tar -xvf xxx.tar 解包|

### 4.3 tar 解压与压缩

#### 4.3.1 tar

* 一步到位的压缩命令：`tar -zcvf xxx.tar.gz *`

* 一步到位的解压命令：`tar -zxvf xxx.tar.gz`

#### 4.3.2 bzip2算法

* `tar -jcvf xxx.tar.bz2 *`：压缩

* `tar -jxvf xxx.tar.bz2`：解压

```shell
➜  Desktop tar -jcvf Wallpapers.tar.bz2 Wallpapers
Wallpapers/
Wallpapers/d66418b3a4609f230492f9a0f8ba3479.jpg
Wallpapers/06e67b4ec51b99467111f215f1e7c10e.png
Wallpapers/b32957d19b4b163b82baaf73e1b7a459.jpg
Wallpapers/5043b2fdbc2cf337e789ca7f71e0c088.jpg
➜  Desktop tar -zcvf wallpapers.tar.gz Wallpapers 
Wallpapers/
Wallpapers/d66418b3a4609f230492f9a0f8ba3479.jpg
Wallpapers/06e67b4ec51b99467111f215f1e7c10e.png
Wallpapers/b32957d19b4b163b82baaf73e1b7a459.jpg
Wallpapers/5043b2fdbc2cf337e789ca7f71e0c088.jpg
➜  Desktop ls -l
总用量 7456
drwxr-xr-x 2 inkss inkss    4096 1月  23 21:59 Wallpapers
-rw-r--r-- 1 inkss inkss 3784740 1月  23 22:13 Wallpapers.tar.bz2
-rw-r--r-- 1 inkss inkss 3839708 1月  23 22:13 wallpapers.tar.gz
➜  Desktop
```

#### 4.3.3 指定解压路劲

`tar -zxvf xxx.tar.gz -C ./xxx/xxx`：指定解压路径