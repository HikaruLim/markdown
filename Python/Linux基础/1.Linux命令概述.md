# Linux基本命令

OS： **Deepin 15.5**

Shell： **zsh 5.3.1**

---

## 1.基础命令

### 1.1 `clear`：清屏。

### 1.2 `pwd`： 显示当前路径（绝对路径）。

```shell
➜  Desktop pwd
/home/inkss/Desktop
➜  Desktop
```

### 1.3 `cd`：进入指定路径。

|命令|含义|
|-|-|
|cd 目录|进入目录|
|cd 目录1/目录2|从当前目录起进入指定路径|
|cd /目录1/目录2|从根目录起进入指定路径|
|cd ..|跳转到当前路径的上一层|
|cd -|返回上一操作所处在的路径|
|cd ~|跳转到当前用户的家目录|

```shell
➜  Desktop cd ..
➜  ~ cd Documents
➜  Documents cd ../..
➜  /home cd inkss/Desktop
➜  Desktop cd -
/home
➜  /home
```

### 1.4 `ls`：列出当前路径下的文件和目录。

|命令|含义|
|-|-|
|ls|列出当前路径的文件和目录|
|ls -a|列出当前路径的所有文件和目录|
|ls -l|以列表形式列出当前路径的文件和目录|
|ls -l -h|优化-l时的文件大小显示|
|ls D*|列出以D开头的文件和目录|

>ls命令后可跟正则表达式,同时选项也可以全部出现，即`ls -alh`的形式，作用为三者的集合；`ls -h`命令中的h单独出现时是不起作用，需配合另外两个共同使用；Linux中以`.`开头的文件/文件夹都是隐藏文件。

```shell
➜  Pictures ls
a.txt  Wallpapers
➜  Pictures ls -l
总用量 4
-rw-r--r-- 1 inkss inkss    0 1月  22 17:59 a.txt
drwxr-xr-x 2 inkss inkss 4096 12月 10 19:41 Wallpapers
➜  Pictures ls -lh
总用量 4.0K
-rw-r--r-- 1 inkss inkss    0 1月  22 17:59 a.txt
drwxr-xr-x 2 inkss inkss 4.0K 12月 10 19:41 Wallpapers
➜  Pictures pwd
/home/inkss/Pictures
➜  Pictures
```

### 1.5 `touch`：创建文件

创建文件，已存在的文件未覆盖。

```shell
➜  Desktop touch a.txt
➜  Desktop ls -l
总用量 0
-rw-r--r-- 1 inkss inkss 0 1月  23 15:01 a.txt
➜  Desktop
```

### 1.6 `cat`：查看文件

`cat filename.txt` 查看文件的内容。

---

## 2.重定向 分屏 管道

### 2.1 `>`：重定向

修改其输出方向（重新设定原显示方向）。

 `>` ： 文件不存在则创建，存在则覆盖。

  `>>` ：文件不存在则创建，存在则追加。

```shell
➜  ~ ls
Desktop  Documents  Downloads  Music  Pictures  Templates  Videos
➜  ~ ls > test.txt
➜  ~ cat test.txt
Desktop
Documents
Downloads
Music
Pictures
Templates
test.txt
Videos
➜  ~
```

### 2.2 `more`：分屏

查看内容时，当信息过长无法在一屏上显示时，会出现快速滚屏，此时可以使用`more`命令，每次只显示一页，通过空格键切换下一页，按下q键退出，按下h键获取帮助。

### 2.3 `|`：管道

一个命令的输出可以通过管道作为另外一个命令的输入。

管道的左端写入东西，右端取出东西，用以连接两条命令。

```shell
➜  Desktop cd ~
➜  ~ ls -alh | more
总用量 320K
drwxr-xr-x 40 inkss inkss 4.0K 1月  23 15:08 .
drwxr-xr-x  3 root  root  4.0K 12月  8 19:17 ..
-rw-------  1 inkss inkss  268 12月  8 19:55 .bash_history
-rw-r--r--  1 inkss inkss  220 12月  8 19:04 .bash_logout
-rw-r--r--  1 inkss inkss 3.7K 12月  8 19:04 .bashrc
drwxr-xr-x 15 inkss inkss 4.0K 1月  13 18:15 .cache
drwxr-xr-x 29 inkss inkss 4.0K 1月  23 15:03 .config
drwxr-xr-x  5 inkss inkss 4.0K 12月 25 17:11 .cxoffice
drwx------  3 inkss inkss 4.0K 12月  8 19:37 .dbus
drwxr-xr-x  3 inkss inkss 4.0K 12月 20 21:52 .deepinwine
-rw-r--r--  1 inkss inkss   58 12月 25 17:12 .deliverycenter.installs
drwxr-xr-x  3 inkss inkss 4.0K 1月  15 10:35 .designer
drwxr-xr-x  2 inkss inkss 4.0K 1月  23 15:04 Desktop
drwxr-xr-x  2 inkss inkss 4.0K 12月 25 17:10 Documents
drwxr-xr-x  2 inkss inkss 4.0K 1月  14 19:39 Downloads
drwx------  2 inkss inkss 4.0K 1月  23 14:44 .gconf
drwx------  2 inkss inkss 4.0K 12月  8 22:05 .gnome2
drwx------  3 inkss inkss 4.0K 12月  8 19:37 .gnupg
-rw-r--r--  1 inkss inkss   60 12月  8 22:15 .gtkrc-2.0
drwxr-xr-x  3 inkss inkss 4.0K 12月  8 19:04 .icons
drwxr-xr-x  3 inkss inkss 4.0K 12月  8 21:58 .java
drwxr-xr-x  3 inkss inkss 4.0K 12月 11 12:40 .kingsoft
--More--
```

### 2.4 利用`cat、>`合并文件

cat的作用可以视为将文本内容打印到终端上，同时cat又可以显示（打印）多个文件到终端，配合重定向>输出到文件里，即完成了多个文件的合并操作。

```shell
➜  Desktop cat a1.txt
1111111111
➜  Desktop cat a2.txt
2222222222
➜  Desktop cat a1.txt a2.txt a3.txt
1111111111
2222222222
3333333333
➜  Desktop cat a*.txt > b.txt
➜  Desktop cat b.txt
1111111111
2222222222
3333333333
➜  Desktop ls -l
总用量 16
-rw-r--r-- 1 inkss inkss 11 1月  23 18:05 a1.txt
-rw-r--r-- 1 inkss inkss 11 1月  23 18:05 a2.txt
-rw-r--r-- 1 inkss inkss 11 1月  23 18:05 a3.txt
-rw-r--r-- 1 inkss inkss 33 1月  23 18:07 b.txt
➜  Desktop
```

---

## 3.创建目录

### 3.1 `mkdir`

|命令|含义|
|-|-|
|mkdir 目录名|在当前路径下创建目录|
|mkdir -p 目录1/目录2|递归的创建目录|

### 3.2 tree：树形显示当前目录结构

```shell
➜  / cd ~/Desktop
➜  Desktop ls
a  a.txt
➜  Desktop mkdir python_haha
➜  Desktop ls -l
总用量 8
-rw-r--r-- 1 inkss inkss    0 1月  23 15:04 a
-rw-r--r-- 1 inkss inkss   17 1月  23 15:03 a.txt
drwxr-xr-x 2 inkss inkss 4096 1月  23 15:16 python_haha
➜  Desktop mkdir -p A/B
➜  Desktop cd A/B
➜  B pwd
/home/inkss/Desktop/A/B
➜  B cd ~/Desktop
➜  Desktop tree
.
├── a
├── A
│   └── B
├── a.txt
└── python_haha

3 directories, 2 files
➜  Desktop
```

> Deepin默认没有安装tree，如需使用请先安装：`sudo apt install tree`

---

## 4.删除命令

### 4.1 `rmdir`：删除目录，但是目录必须为空。

```shell
➜  Desktop rmdir python_haha
➜  Desktop ls
a  A  a.txt
➜  Desktop rmdir A
rmdir: 删除 'A' 失败: 目录非空
➜  Desktop
```

### 4.2 `rm`：删除文件/文件夹

|命令|含义|
|-|-|
|rm 文件名|删除文件|
|rm -r 目录|删除目录（递归）|
|rm -i 文件|交互式删除（删除前需确认）|
|rm -f 文件|强制删除|

> rm后跟文件名支持正则表达式。

```shell
➜  Desktop tree
.
└── a
    └── b
        ├── bbb.ccc
        └── c
            └── d

4 directories, 1 file
➜  Desktop rm -rf a/*
zsh: sure you want to delete the only file in /home/inkss/Desktop/a [yn]? y
➜  Desktop
➜  Desktop tree
.
└── a

1 directory, 0 files
```

```shell
➜  Desktop tree
.
└── a
    ├── aaa
    │   └── a.txt
    └── b.txt

2 directories, 2 files
➜  Desktop rm -r a/aaa
➜  Desktop tree
.
└── a
    └── b.txt

1 directory, 1 file
➜  Desktop
```

---

## 5.建立链接文件

|命令|含义|
|-|-|
|ln 源文件 链接文件|硬链接|
|ln -s 源文件 链接文件|软链接|

链接：软链接和硬链接：软链接与Windows上的快捷方式概念完全一致。而硬链接则很类似C语言中的指针，源文件与链接文件**共同指向同一份数据内容**，所以在删除源文件时只是**将源文件与数据内容的关联**删除，通过链接文件依然能访问数据内容。

```shell
┌ d:目录 -：文件 l：链接
│          ┌ 硬链接数
↓          ↓
drwxr-xr-x 2 inkss inkss 4096 1月 23 16:14 a
-rw-r--r-- 2 inkss inkss   25 1月 23 16:13 a_hard.txt
-rw-r--r-- 2 inkss inkss   25 1月 23 16:13 a.txt
lrwxrwxrwx 1 inkss inkss    5 1月 23 16:16 b_soft.txt -> b.txt
-rw-r--r-- 1 inkss inkss   11 1月 23 16:15 b.txt
 └───┬───┘   └────┬────┘
     │            └─ 用户 用户组
     └─ 权限
```

## 6.文本搜索

`grep`：允许对文本进行模式查找，如果找到匹配模式，则打印包含模式的所有行。同时，grep也支持正则表达式。

|命令|含义|
|-|-|
|grep -v '搜索内容串' 文件名|不匹配文本的所有行（求反）|
|grep -n '搜索内容串' 文件名|显示匹配行及其行号|
|grep -i '搜索内容串' 文件名|忽略大小写|

```shell
➜  Desktop grep -n 'printf' test.c
4:  printf("Hello,Nice to meet you!\n");
5:  printf("Bye!\n");
➜  Desktop grep -nv 'printf' test.c
1:#include<stdio.h>
2:int main(void)
3:{
6:  return 0;
7:}
➜  Desktop
```

## 7.查阅帮助文档

### 7.1 `命令 --help`

```shell
➜  Desktop grep --help | more
用法: grep [选项]... PATTERN [FILE]...
Search for PATTERN in each FILE.
Example: grep -i 'hello world' menu.h main.c

Pattern selection and interpretation:
  -E, --extended-regexp     PATTERN is an extended regular expression
  -F, --fixed-strings       PATTERN is a set of newline-separated strings
  -G, --basic-regexp        PATTERN is a basic regular expression (default)
  -P, --perl-regexp         PATTERN is a Perl regular expression
  -e, --regexp=PATTERN      用 PATTERN 来进行匹配操作
  -f, --file=FILE           从 FILE 中取得 PATTERN
  -i, --ignore-case         忽略大小写
  -w, --word-regexp         强制 PATTERN 仅完全匹配字词
  -x, --line-regexp         强制 PATTERN 仅完全匹配一行
  -z, --null-data           一个 0 字节的数据行，但不是空行
--More--
```

### 7.2 `man 命令`

```shell
➜  Desktop man grep
```